# Register a new user
curl -X POST http://localhost:8080/auth/register \
-H "Content-Type: application/json" \
-H "Accept-Charset: utf-8" \
-d '{"firstName":"Luis", "lastName":"Perez", "secondlastName":"Garcia", "email":"luis@test.com", "password":"123456"}'

# Login with valid credentials
curl -X POST http://localhost:8080/auth/login \
-H "Content-Type: application/json" \
-d '{"email":"ismael@bandas.com", "password":"123456"}'


# Users with invalid credentials
curl -i http://localhost:8080/api/users
# Resultado: 401 Unauthorized

# Users with valid credentials
curl -i http://localhost:8080/api/users \
-H "Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJsdWlzQHRlc3QuY29tIiwiaWF0IjoxNzU0NDIxNDkxLCJleHAiOjE3NTQ0MjUwOTF9.5s0Doultms-dUy4MbdCp_8GswaXOLIeYrXDQnds4IzA"





KC=http://localhost:8080
curl -s -X POST "$KC/realms/tfm-bandas/protocol/openid-connect/token" \
  -d grant_type=password \
  -d client_id=frontend-local \
  -d username=ismablazquez \
  -d password=123456 | jq -r .access_token > /tmp/tok.txt

cat /tmp/tok.txt | awk -F. '{print $2}' | base64 -d 2>/dev/null | jq

curl -i http://localhost:8081/api/users/20 \
  -H "Authorization: Bearer $(cat /tmp/tok.txt)"

curl -i -X DELETE http://localhost:8081/api/users/21 \
  -H "Authorization: Bearer $(cat /tmp/tok.txt)"

curl -i "http://localhost:8083/api/events?from=2025-10-01T00:00:00Z&to=2025-10-31T23:59:59Z" \
  -H "Authorization: Bearer $(cat /tmp/tok.txt)"


# BUSQUEDAS
## Buscar usuarios activos con nombre parcial
GET http://localhost:8080/api/users/search?firstName=luis&active=true&page=0&size=5
Authorization: Bearer <token>

## Buscar usuarios activos con nombre parcial
GET http://localhost:8080/api/users/search?instrumentId=3

## Buscar usuarios activos con nombre parcial
GET http://localhost:8080/api/instruments/search?name=trompeta

## Buscar usuarios activos con nombre parcial
GET http://localhost:8080/api/instruments/search?voice=2





